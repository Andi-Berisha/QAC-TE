"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireWildcard(require("react"));

var _useIndex3 = _interopRequireDefault(require("./hooks/useIndex"));

var _useScrollTo = _interopRequireDefault(require("./hooks/useScrollTo"));

var Dot = function Dot(_ref) {
  var ariaLabel = _ref['aria-label'],
      itemIndex = _ref.itemIndex;

  var _useIndex = (0, _useIndex3.default)(),
      _useIndex2 = (0, _slicedToArray2.default)(_useIndex, 1),
      index = _useIndex2[0];

  var scrollTo = (0, _useScrollTo.default)();
  var checked = index === itemIndex;
  var handleChange = (0, _react.useCallback)(function () {
    return scrollTo(function () {
      return itemIndex;
    });
  }, [itemIndex, scrollTo]);
  var handleKeyPress = (0, _react.useCallback)(function (event) {
    var keyCode = event.keyCode;

    if (keyCode === 13 || keyCode === 32) {
      event.preventDefault();
      event.stopPropagation();
      handleChange();
    }
  }, [handleChange]);
  return /*#__PURE__*/_react.default.createElement("li", {
    className: "react-film__dot"
  }, /*#__PURE__*/_react.default.createElement("input", {
    "aria-label": ariaLabel,
    "aria-pressed": checked,
    checked: checked,
    className: "react-film__dot__input",
    onChange: handleChange,
    onKeyPress: handleKeyPress,
    role: "button",
    type: "checkbox"
  }), /*#__PURE__*/_react.default.createElement("div", {
    className: "react-film__dot__handle"
  }));
};

Dot.defaultProps = {
  'aria-label': undefined
};
Dot.propTypes = {
  'aria-label': _propTypes.default.string,
  itemIndex: _propTypes.default.number.isRequired
};
var _default = Dot;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9Eb3QuanMiXSwibmFtZXMiOlsiRG90IiwiYXJpYUxhYmVsIiwiaXRlbUluZGV4IiwiaW5kZXgiLCJzY3JvbGxUbyIsImNoZWNrZWQiLCJoYW5kbGVDaGFuZ2UiLCJoYW5kbGVLZXlQcmVzcyIsImV2ZW50Iiwia2V5Q29kZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZGVmYXVsdFByb3BzIiwidW5kZWZpbmVkIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwibnVtYmVyIiwiaXNSZXF1aXJlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVBOztBQUNBOztBQUVBLElBQU1BLEdBQUcsR0FBRyxTQUFOQSxHQUFNLE9BQTRDO0FBQUEsTUFBM0JDLFNBQTJCLFFBQXpDLFlBQXlDO0FBQUEsTUFBaEJDLFNBQWdCLFFBQWhCQSxTQUFnQjs7QUFBQSxrQkFDdEMseUJBRHNDO0FBQUE7QUFBQSxNQUMvQ0MsS0FEK0M7O0FBRXRELE1BQU1DLFFBQVEsR0FBRywyQkFBakI7QUFFQSxNQUFNQyxPQUFPLEdBQUdGLEtBQUssS0FBS0QsU0FBMUI7QUFDQSxNQUFNSSxZQUFZLEdBQUcsd0JBQVk7QUFBQSxXQUFNRixRQUFRLENBQUM7QUFBQSxhQUFNRixTQUFOO0FBQUEsS0FBRCxDQUFkO0FBQUEsR0FBWixFQUE2QyxDQUFDQSxTQUFELEVBQVlFLFFBQVosQ0FBN0MsQ0FBckI7QUFFQSxNQUFNRyxjQUFjLEdBQUcsd0JBQ3JCLFVBQUFDLEtBQUssRUFBSTtBQUFBLFFBQ0NDLE9BREQsR0FDYUQsS0FEYixDQUNDQyxPQUREOztBQUdQLFFBQUlBLE9BQU8sS0FBSyxFQUFaLElBQWtCQSxPQUFPLEtBQUssRUFBbEMsRUFBc0M7QUFDcENELE1BQUFBLEtBQUssQ0FBQ0UsY0FBTjtBQUNBRixNQUFBQSxLQUFLLENBQUNHLGVBQU47QUFDQUwsTUFBQUEsWUFBWTtBQUNiO0FBQ0YsR0FUb0IsRUFVckIsQ0FBQ0EsWUFBRCxDQVZxQixDQUF2QjtBQWFBLHNCQUNFO0FBQUksSUFBQSxTQUFTLEVBQUM7QUFBZCxrQkFDRTtBQUNFLGtCQUFZTCxTQURkO0FBRUUsb0JBQWNJLE9BRmhCO0FBR0UsSUFBQSxPQUFPLEVBQUVBLE9BSFg7QUFJRSxJQUFBLFNBQVMsRUFBQyx3QkFKWjtBQUtFLElBQUEsUUFBUSxFQUFFQyxZQUxaO0FBTUUsSUFBQSxVQUFVLEVBQUVDLGNBTmQ7QUFPRSxJQUFBLElBQUksRUFBQyxRQVBQO0FBUUUsSUFBQSxJQUFJLEVBQUM7QUFSUCxJQURGLGVBV0U7QUFBSyxJQUFBLFNBQVMsRUFBQztBQUFmLElBWEYsQ0FERjtBQWVELENBbkNEOztBQXFDQVAsR0FBRyxDQUFDWSxZQUFKLEdBQW1CO0FBQ2pCLGdCQUFjQztBQURHLENBQW5CO0FBSUFiLEdBQUcsQ0FBQ2MsU0FBSixHQUFnQjtBQUNkLGdCQUFjQyxtQkFBVUMsTUFEVjtBQUVkZCxFQUFBQSxTQUFTLEVBQUVhLG1CQUFVRSxNQUFWLENBQWlCQztBQUZkLENBQWhCO2VBS2VsQixHIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHVzZUluZGV4IGZyb20gJy4vaG9va3MvdXNlSW5kZXgnO1xuaW1wb3J0IHVzZVNjcm9sbFRvIGZyb20gJy4vaG9va3MvdXNlU2Nyb2xsVG8nO1xuXG5jb25zdCBEb3QgPSAoeyAnYXJpYS1sYWJlbCc6IGFyaWFMYWJlbCwgaXRlbUluZGV4IH0pID0+IHtcbiAgY29uc3QgW2luZGV4XSA9IHVzZUluZGV4KCk7XG4gIGNvbnN0IHNjcm9sbFRvID0gdXNlU2Nyb2xsVG8oKTtcblxuICBjb25zdCBjaGVja2VkID0gaW5kZXggPT09IGl0ZW1JbmRleDtcbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gdXNlQ2FsbGJhY2soKCkgPT4gc2Nyb2xsVG8oKCkgPT4gaXRlbUluZGV4KSwgW2l0ZW1JbmRleCwgc2Nyb2xsVG9dKTtcblxuICBjb25zdCBoYW5kbGVLZXlQcmVzcyA9IHVzZUNhbGxiYWNrKFxuICAgIGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IHsga2V5Q29kZSB9ID0gZXZlbnQ7XG5cbiAgICAgIGlmIChrZXlDb2RlID09PSAxMyB8fCBrZXlDb2RlID09PSAzMikge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaGFuZGxlQ2hhbmdlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbaGFuZGxlQ2hhbmdlXVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGxpIGNsYXNzTmFtZT1cInJlYWN0LWZpbG1fX2RvdFwiPlxuICAgICAgPGlucHV0XG4gICAgICAgIGFyaWEtbGFiZWw9e2FyaWFMYWJlbH1cbiAgICAgICAgYXJpYS1wcmVzc2VkPXtjaGVja2VkfVxuICAgICAgICBjaGVja2VkPXtjaGVja2VkfVxuICAgICAgICBjbGFzc05hbWU9XCJyZWFjdC1maWxtX19kb3RfX2lucHV0XCJcbiAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgb25LZXlQcmVzcz17aGFuZGxlS2V5UHJlc3N9XG4gICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVhY3QtZmlsbV9fZG90X19oYW5kbGVcIiAvPlxuICAgIDwvbGk+XG4gICk7XG59O1xuXG5Eb3QuZGVmYXVsdFByb3BzID0ge1xuICAnYXJpYS1sYWJlbCc6IHVuZGVmaW5lZFxufTtcblxuRG90LnByb3BUeXBlcyA9IHtcbiAgJ2FyaWEtbGFiZWwnOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpdGVtSW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcblxuZXhwb3J0IGRlZmF1bHQgRG90O1xuIl19